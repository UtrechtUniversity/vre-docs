<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Terms of Use</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../_styles/styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../docs/research-cloud-intro.html" rel="" target="">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../docs/accounts.html" rel="" target="">
 <span class="menu-text">Accounts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../docs/getting-started.html" rel="" target="">
 <span class="menu-text">Getting Started</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../docs/workspace-catalogue.html" rel="" target="">
 <span class="menu-text">Workspaces</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../docs/manuals.html" rel="" target="">
 <span class="menu-text">Manuals</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../docs/terms-of-use.html" rel="" target="" aria-current="page">
 <span class="menu-text">Terms of use</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../docs/contact.html" rel="" target="">
 <span class="menu-text">Contact</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#responsible-use" id="toc-responsible-use" class="nav-link active" data-scroll-target="#responsible-use">Responsible Use</a></li>
  <li><a href="#terms-of-use" id="toc-terms-of-use" class="nav-link" data-scroll-target="#terms-of-use">Terms of Use</a>
  <ul class="collapse">
  <li><a href="#your-uu-workspaces-account" id="toc-your-uu-workspaces-account" class="nav-link" data-scroll-target="#your-uu-workspaces-account">1. Your UU Workspaces Account</a></li>
  <li><a href="#responsibility-of-contributors" id="toc-responsibility-of-contributors" class="nav-link" data-scroll-target="#responsibility-of-contributors">2. Responsibility of Contributors</a></li>
  <li><a href="#user-data-license" id="toc-user-data-license" class="nav-link" data-scroll-target="#user-data-license">3. User Data License</a></li>
  <li><a href="#responsibility-of-uu-workspaces-visitors" id="toc-responsibility-of-uu-workspaces-visitors" class="nav-link" data-scroll-target="#responsibility-of-uu-workspaces-visitors">4. Responsibility of UU Workspaces Visitors</a></li>
  <li><a href="#content-posted-on-other-websites" id="toc-content-posted-on-other-websites" class="nav-link" data-scroll-target="#content-posted-on-other-websites">5. Content Posted on Other Websites</a></li>
  <li><a href="#copyright-infringement-and-dmca-policy" id="toc-copyright-infringement-and-dmca-policy" class="nav-link" data-scroll-target="#copyright-infringement-and-dmca-policy">6. Copyright Infringement and DMCA Policy</a></li>
  <li><a href="#intellectual-property" id="toc-intellectual-property" class="nav-link" data-scroll-target="#intellectual-property">7. Intellectual Property</a></li>
  <li><a href="#attribution" id="toc-attribution" class="nav-link" data-scroll-target="#attribution">8. Attribution</a></li>
  <li><a href="#changes" id="toc-changes" class="nav-link" data-scroll-target="#changes">9. Changes</a></li>
  <li><a href="#termination" id="toc-termination" class="nav-link" data-scroll-target="#termination">10. Termination</a></li>
  <li><a href="#disclaimer-of-warranties" id="toc-disclaimer-of-warranties" class="nav-link" data-scroll-target="#disclaimer-of-warranties">11. Disclaimer of Warranties</a></li>
  <li><a href="#limitation-of-liability" id="toc-limitation-of-liability" class="nav-link" data-scroll-target="#limitation-of-liability">12. Limitation of Liability</a></li>
  <li><a href="#general-representation-and-warranty" id="toc-general-representation-and-warranty" class="nav-link" data-scroll-target="#general-representation-and-warranty">13. General Representation and Warranty</a></li>
  <li><a href="#indemnification" id="toc-indemnification" class="nav-link" data-scroll-target="#indemnification">14. Indemnification</a></li>
  <li><a href="#miscellaneous" id="toc-miscellaneous" class="nav-link" data-scroll-target="#miscellaneous">15. Miscellaneous</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/UtrechtUniversity/vre-docs/edit/main/docs/terms-of-use.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Terms of Use</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="responsible-use" class="level1">
<h1>Responsible Use</h1>
<p>Find below the Terms of Use for Research Cloud Workspaces owned and maintained by the <a href="https://www.uu.nl/en/research/research-data-management/tools-services/software-and-computing/virtual-research-environments">Utrecht University VRE team</a>.</p>
<p><a href="../docs/responsible-use.html">Practical tips for UU employees for responsible and secure use of Surf Research cloud</a>.</p>
</section>
<section id="terms-of-use" class="level1">
<h1>Terms of Use</h1>
<p>The following terms and conditions govern all use of workspaces, subsequently referred to as UU Workspaces, that are deployed and managed via the SURF ResearchCloud service, and owned by a collaboration that is coordinated by Utrecht University, as well as all content, services and products available at or through these workspaces. UU Workspaces are operated by or on behalf of Utrecht University. UU Workspaces is offered subject to your acceptance without modification of all of the terms and conditions contained herein and all other operating rules, policies and procedures that may be published from time to time on www.uu.nl by Utrecht University (collectively, the “Agreement”).Please read this Agreement carefully before accessing or using UU Workspaces. By accessing or using any part of UU Workspaces, you agree to become bound by the terms and conditions of this agreement. If you do not agree to all the terms and conditions of this agreement, then you may not access UU Workspaces or use any of its services. If these terms and conditions are considered an offer by Utrecht University, acceptance is expressly limited to these terms.</p>
<section id="your-uu-workspaces-account" class="level2">
<h2 class="anchored" data-anchor-id="your-uu-workspaces-account">1. Your UU Workspaces Account</h2>
<p>If you have a UU Workspaces account then you are responsible for maintaining the security of your account and you are fully responsible for all activities that occur under the account. You must immediately notify UU Workspaces business administration via UU Workspaces@uu.nl of any unauthorized uses of your account or any other breaches of security. Utrecht University will not be liable for any acts or omissions by you, including any damages of any kind incurred as a result of such acts or omissions.</p>
</section>
<section id="responsibility-of-contributors" class="level2">
<h2 class="anchored" data-anchor-id="responsibility-of-contributors">2. Responsibility of Contributors</h2>
<p>If you submit material (“Data”) to UU Workspaces, you are entirely responsible for the content of, and any harm resulting from, that Content. By submitting, you represent and warrant that: * the use of the Data will not infringe the proprietary rights, including but not limited to the copyright, patent, trademark or trade secret rights, of any third party;</p>
<p>if your employer has rights to intellectual property you create, you have either (i) received permission from your employer to post or make available the Content, including but not limited to any software, or (ii) secured from your employer a waiver as to all rights in or to the Content;</p>
<p>you have fully complied with any third-party licenses relating to the Data, and have done all things necessary to successfully pass through to end users any required terms;</p>
<p>the Data does not contain or install any viruses, worms, malware, Trojan horses or other harmful or destructive content;</p>
<p>the Data is not spam, and does not contain unethical or unwanted commercial content designed to drive traffic to third party sites or boost the search engine rankings of third party sites, or to further unlawful acts (such as phishing) or mislead recipients as to the source of the material (such as spoofing);</p>
</section>
<section id="user-data-license" class="level2">
<h2 class="anchored" data-anchor-id="user-data-license">3. User Data License</h2>
<p>Utrecht University has the right (though not the obligation) to, in Utrecht University’s sole discretion (i) refuse or remove any content that, in Utrecht University’s reasonable opinion, violates any Utrecht University policy or is in any way harmful or objectionable, in Utrecht University’s sole discretion. Utrecht University will have no obligation to provide a refund of any amounts previously paid.</p>
</section>
<section id="responsibility-of-uu-workspaces-visitors" class="level2">
<h2 class="anchored" data-anchor-id="responsibility-of-uu-workspaces-visitors">4. Responsibility of UU Workspaces Visitors</h2>
<p>You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. The UU Workspaces and related services may contain technical inaccuracies, typographical mistakes, and other errors. Utrecht University disclaims any responsibility for any harm resulting from the use by visitors of the UU Workspaces and related services, or from any downloading by those visitors of content there posted.</p>
</section>
<section id="content-posted-on-other-websites" class="level2">
<h2 class="anchored" data-anchor-id="content-posted-on-other-websites">5. Content Posted on Other Websites</h2>
<p>We have not reviewed, and cannot review, all of the material, including computer software, made available through any UU Workspaces websites and webpages to which UU Workspaces Website and related services links, and that link to UU Workspaces. Utrecht University does not have any control over those non-UU Workspaces websites and webpages, and is not responsible for their contents or their use. By linking to a non-UU Workspaces website or webpage, Utrecht University does not represent or imply that it endorses such website or webpage. You are responsible for taking precautions as necessary to protect yourself and your computer systems from viruses, worms, Trojan horses, and other harmful or destructive content. Utrecht University disclaims any responsibility for any harm resulting from your use of non-UU Workspaces websites and webpages.</p>
</section>
<section id="copyright-infringement-and-dmca-policy" class="level2">
<h2 class="anchored" data-anchor-id="copyright-infringement-and-dmca-policy">6. Copyright Infringement and DMCA Policy</h2>
<p>As Utrecht University asks others to respect its intellectual property rights, it respects the intellectual property rights of others. If you believe that material located on or linked to by UU Workspaces violates your copyright, you are encouraged to notify Utrecht University. Utrecht University will respond to all such notices, including as required or appropriate by removing the infringing material or disabling all links to the infringing material. Utrecht University will terminate a visitor’s access to and use of the Website if, under appropriate circumstances, the visitor is determined to be a repeat infringer of the copyrights or other intellectual property rights of Utrecht University or others. In the case of such termination, Utrecht University will have no obligation to provide a refund of any amounts previously paid to Utrecht University.</p>
</section>
<section id="intellectual-property" class="level2">
<h2 class="anchored" data-anchor-id="intellectual-property">7. Intellectual Property</h2>
<p>This Agreement does not transfer from Utrecht University to you any Utrecht University or third party intellectual property, and all right, title and interest in and to such property will remain (as between the parties) solely with Utrecht University. Utrecht University, the UU Workspaces website and related services, the Utrecht University logo, and all other trademarks, service marks, graphics and logos used in connection with UU Workspaces are trademarks or registered trademarks of Utrecht University or Utrecht University’s licensors. Other trademarks, service marks, graphics and logos used in connection with UU Workspaces may be the trademarks of other third parties. Your use of UU Workspaces grants you no right or license to reproduce or otherwise use any Utrecht University or third-party trademarks.</p>
</section>
<section id="attribution" class="level2">
<h2 class="anchored" data-anchor-id="attribution">8. Attribution</h2>
<p>Utrecht University reserves the right to display attribution links such as ‘Powered by UU Workspaces,’ theme author, and font attribution in your content footer or toolbar. Footer credits and other such expressions may not be removed regardless of upgrades purchased.</p>
</section>
<section id="changes" class="level2">
<h2 class="anchored" data-anchor-id="changes">9. Changes</h2>
<p>Utrecht University reserves the right, at its sole discretion, to modify or replace any part of this Agreement. It is your responsibility to check this Agreement periodically for changes. Your continued use of or access to UU Workspaces following the posting of any changes to this Agreement constitutes acceptance of those changes. Utrecht University may also, in the future, offer new services and/or features through UU Workspaces website or related services (including, the release of new tools and resources). Such new features and/or services shall be subject to the terms and conditions of this Agreement.</p>
</section>
<section id="termination" class="level2">
<h2 class="anchored" data-anchor-id="termination">10. Termination</h2>
<p>Utrecht University may terminate your access to all or any part of UU Workspaces at any time, with or without cause, with or without notice, effective immediately. If you wish to terminate this Agreement or your UU Workspaces account (if you have one), you may simply discontinue using UU Workspaces and/or cancel your registration and delete the stored information. All provisions of this Agreement which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability.</p>
</section>
<section id="disclaimer-of-warranties" class="level2">
<h2 class="anchored" data-anchor-id="disclaimer-of-warranties">11. Disclaimer of Warranties</h2>
<p>UU Workspaces are provided “as is”. Utrecht University and its suppliers and licensors hereby disclaim all warranties of any kind, express or implied, including, without limitation, the warranties of merchantability, fitness for a particular purpose and non-infringement. Neither Utrecht University nor its suppliers and licensors, makes any warranty that the UU Workspaces website and related services will be error free or that access thereto will be continuous or uninterrupted. You understand that you download from, or otherwise obtain content or services through, UU Workspaces at your own discretion and risk.</p>
</section>
<section id="limitation-of-liability" class="level2">
<h2 class="anchored" data-anchor-id="limitation-of-liability">12. Limitation of Liability</h2>
<p>In no event will Utrecht University, or its suppliers or licensors, be liable with respect to any subject matter of this agreement under any contract, negligence, strict liability or other legal or equitable theory for: (i) any special, incidental or consequential damages; (ii) the cost of procurement for substitute products or services; (iii) for interruption of use or loss or corruption of data; or (iv) for any amounts that exceed the fees paid by you to Utrecht University under this agreement during the twelve (12) month period prior to the cause of action; (v) The services offered via UU Workspaces are for research purposes only, and are not to be used to guide clinical decisions. We make no representation that these results are accurate. Utrecht University shall have no liability for any failure or delay due to matters beyond their reasonable control. The foregoing shall not apply to the extent prohibited by applicable law.</p>
</section>
<section id="general-representation-and-warranty" class="level2">
<h2 class="anchored" data-anchor-id="general-representation-and-warranty">13. General Representation and Warranty</h2>
<p>You represent and warrant that (i) your use of UU Workspaces will be in strict accordance with Utrecht University Information Security policies and privacy policies, with this Agreement and with all applicable laws and regulations (including without limitation any local laws or regulations in your country, state, city, or other governmental area, regarding online conduct and acceptable content, and including all applicable laws regarding the transmission of technical data exported from the country in which UU Workspaces resides or the country in which you reside) and (ii) your use of UU Workspaces will not infringe or misappropriate the intellectual property rights of any third party.</p>
</section>
<section id="indemnification" class="level2">
<h2 class="anchored" data-anchor-id="indemnification">14. Indemnification</h2>
<p>You agree to indemnify and hold harmless Utrecht University, its contractors, and its licensors, and their respective directors, officers, employees and agents from and against any and all claims and expenses, including attorneys’ fees, arising out of your use of UU Workspaces, including but not limited to your violation of this Agreement.</p>
</section>
<section id="miscellaneous" class="level2">
<h2 class="anchored" data-anchor-id="miscellaneous">15. Miscellaneous</h2>
<p>This Agreement constitutes the entire agreement between Utrecht University and you concerning the subject matter hereof, and they may only be modified by a written amendment signed by an authorized executive of Utrecht University, or by the posting by Utrecht University of a revised version. Except to the extent applicable law, if any, provided otherwise, this Agreement, any access to or use of the Website will be governed by the laws of the Netherlands.</p>
<p>This document was adapted from <a href="nestor.science.uu.nl">nestor.science.uu.nl</a> and is licensed as <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA 4.0</a>.</p>
<p>Last update: May 2, 2023</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>